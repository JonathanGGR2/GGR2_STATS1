<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Statistics Class - Practical 3: Data Visualization</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
        }
        
        /* Header Styles */
        .header {
            text-align: center;
            color: white;
            margin-bottom: 40px;
            padding: 30px 0;
        }
        
        .header h1 {
            font-size: 3em;
            margin-bottom: 10px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }
        
        .header p {
            font-size: 1.3em;
            opacity: 0.9;
        }
        
        /* Main Content Card */
        .main-card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
            overflow: hidden;
            min-height: 500px;
        }
        
        /* Welcome Page */
        .welcome-section {
            padding: 50px;
            text-align: center;
        }
        
        .welcome-section h2 {
            color: #333;
            font-size: 2.5em;
            margin-bottom: 20px;
        }
        
        .welcome-message {
            color: #666;
            font-size: 1.2em;
            line-height: 1.8;
            margin-bottom: 40px;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .prac-card {
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.05) 0%, rgba(5, 150, 105, 0.05) 100%);
            border: 2px solid rgba(16, 185, 129, 0.2);
            border-radius: 15px;
            padding: 30px;
            margin: 20px auto;
            max-width: 600px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .prac-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(16, 185, 129, 0.2);
            border-color: #10b981;
        }
        
        .prac-card h3 {
            color: #059669;
            font-size: 1.8em;
            margin-bottom: 15px;
        }
        
        .prac-card p {
            color: #374151;
            font-size: 1.1em;
            line-height: 1.6;
        }
        
        /* Page Content Sections */
        .page-content {
            display: none;
            padding: 40px;
        }
        
        .page-content.active {
            display: block;
        }
        
        /* Back Button */
        .back-btn {
            background: linear-gradient(135deg, #6b7280 0%, #4b5563 100%);
            color: white;
            border: none;
            padding: 12px 24px;
            font-size: 16px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
            margin-bottom: 30px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .back-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(107, 114, 128, 0.3);
        }
        
        /* Worksheet Download Section */
        .worksheet-section {
            text-align: center;
        }
        
        .worksheet-section h2 {
            color: #333;
            font-size: 2.2em;
            margin-bottom: 20px;
        }
        
        .worksheet-info {
            background: rgba(59, 130, 246, 0.05);
            border-left: 4px solid #3b82f6;
            padding: 25px;
            margin: 30px 0;
            border-radius: 0 10px 10px 0;
            text-align: left;
        }
        
        .worksheet-info h4 {
            color: #1e40af;
            margin-bottom: 10px;
        }
        
        .code-input-section {
            background: rgba(249, 250, 251, 0.8);
            border-radius: 15px;
            padding: 30px;
            margin: 30px 0;
        }
        
        .form-group {
            margin-bottom: 25px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #374151;
            text-align: left;
        }
        
        .form-group input {
            width: 100%;
            padding: 15px;
            border: 2px solid #e1e5e9;
            border-radius: 10px;
            font-size: 16px;
            transition: border-color 0.3s ease;
        }
        
        .form-group input:focus {
            outline: none;
            border-color: #10b981;
            box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.1);
        }
        
        .download-btn {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 16px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
            width: 100%;
        }
        
        .download-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(16, 185, 129, 0.3);
        }
        
        /* Quiz Section */
        .quiz-section h2 {
            color: #333;
            font-size: 2.2em;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .quiz-intro {
            background: rgba(249, 115, 22, 0.05);
            border-left: 4px solid #f97316;
            padding: 25px;
            margin: 30px 0;
            border-radius: 0 10px 10px 0;
        }
        
        .quiz-intro h4 {
            color: #ea580c;
            margin-bottom: 10px;
        }
        
        .quiz-form {
            background: rgba(249, 250, 251, 0.8);
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
        }
        
        .question {
            margin-bottom: 25px;
        }
        
        .question h4 {
            margin-bottom: 10px;
            color: #374151;
        }
        
        .quiz-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 16px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
            width: 100%;
        }
        
        .quiz-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.3);
        }
        
        /* Dr. Levin AI Section */
        .dr-levin-section {
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.05) 0%, rgba(5, 150, 105, 0.05) 100%);
            border: 1px solid rgba(16, 185, 129, 0.2);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            display: none;
        }
        
        .dr-levin-section.show {
            display: block;
            animation: slideIn 0.5s ease;
        }
        
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .ai-header {
            display: flex;
            align-items: center;
            margin-bottom: 25px;
            padding-bottom: 20px;
            border-bottom: 1px solid rgba(16, 185, 129, 0.2);
        }
        
        .ai-avatar {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            margin-right: 15px;
            box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
            animation: pulse 3s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3); }
            50% { box-shadow: 0 4px 12px rgba(16, 185, 129, 0.5), 0 0 20px rgba(16, 185, 129, 0.2); }
        }
        
        .ai-info h3 {
            color: #059669;
            margin: 0 0 5px 0;
            font-size: 1.4em;
        }
        
        .ai-info p {
            color: #6b7280;
            margin: 0;
            font-style: italic;
        }
        
        .struggle-form h4 {
            color: #374151;
            margin-bottom: 10px;
        }
        
        .struggle-form textarea {
            width: 100%;
            padding: 15px;
            border: 2px solid #e1e5e9;
            border-radius: 10px;
            font-size: 16px;
            font-family: inherit;
            resize: vertical;
            min-height: 100px;
            transition: border-color 0.3s ease;
        }
        
        .struggle-form textarea:focus {
            outline: none;
            border-color: #10b981;
            box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.1);
        }
        
        .ai-btn {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
            border: none;
            padding: 12px 24px;
            font-size: 16px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
            margin: 10px 5px;
        }
        
        .ai-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
        }
        
        .ai-btn.secondary {
            background: linear-gradient(135deg, #6b7280 0%, #4b5563 100%);
        }
        
        .ai-response {
            background: white;
            border: 1px solid rgba(16, 185, 129, 0.2);
            border-radius: 12px;
            padding: 25px;
            margin-top: 20px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            display: none;
        }
        
        .ai-response.show {
            display: block;
            animation: slideIn 0.5s ease;
        }
        
        .response-header {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
            color: #059669;
            font-weight: 600;
        }
        
        .ai-avatar-small {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            margin-right: 10px;
            flex-shrink: 0;
        }
        
        .response-content {
            color: #374151;
            line-height: 1.6;
            margin-bottom: 20px;
        }
        
        .response-content h4 {
            color: #059669;
            margin-bottom: 15px;
        }
        
        .response-content h5 {
            color: #059669;
            margin: 15px 0 8px 0;
        }
        
        .response-content .example-box {
            background: rgba(59, 130, 246, 0.05);
            border-left: 4px solid #3b82f6;
            padding: 15px;
            margin: 15px 0;
            border-radius: 0 8px 8px 0;
        }
        
        .response-content .formula {
            background: rgba(16, 185, 129, 0.05);
            border: 1px solid rgba(16, 185, 129, 0.2);
            padding: 10px;
            border-radius: 8px;
            font-family: monospace;
            text-align: center;
            margin: 10px 0;
            font-weight: bold;
        }
        
        .typing-indicator {
            display: flex;
            align-items: center;
            color: #6b7280;
            font-style: italic;
            padding: 20px;
        }
        
        .typing-dots {
            display: inline-block;
            margin-left: 10px;
        }
        
        .typing-dots span {
            display: inline-block;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #10b981;
            margin: 0 2px;
            animation: typing 1.4s infinite ease-in-out;
        }
        
        .typing-dots span:nth-child(1) { animation-delay: -0.32s; }
        .typing-dots span:nth-child(2) { animation-delay: -0.16s; }
        
        @keyframes typing {
            0%, 80%, 100% { transform: scale(0.8); opacity: 0.5; }
            40% { transform: scale(1); opacity: 1; }
        }
        
        /* Cheat Sheet Download */
        .cheatsheet-section {
            background: rgba(34, 197, 94, 0.05);
            border: 1px solid rgba(34, 197, 94, 0.2);
            border-radius: 15px;
            padding: 30px;
            text-align: center;
            margin-top: 30px;
            display: none;
        }
        
        .cheatsheet-section.show {
            display: block;
            animation: slideIn 0.5s ease;
        }
        
        .cheatsheet-section h3 {
            color: #059669;
            margin-bottom: 15px;
        }
        
        /* Success/Error Messages */
        .message {
            margin: 20px 0;
            padding: 15px;
            border-radius: 10px;
            display: none;
            font-weight: 500;
        }
        
        .success {
            background: rgba(34, 197, 94, 0.1);
            color: #059669;
            border: 1px solid rgba(34, 197, 94, 0.2);
        }
        
        .error {
            background: rgba(239, 68, 68, 0.1);
            color: #dc2626;
            border: 1px solid rgba(239, 68, 68, 0.2);
        }
        
        /* Mobile Responsive */
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .header h1 {
                font-size: 2.2em;
            }
            
            .welcome-section, .page-content {
                padding: 25px;
            }
            
            .ai-header {
                flex-direction: column;
                text-align: center;
            }
            
            .ai-avatar {
                margin-right: 0;
                margin-bottom: 15px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>üìä Statistics Class</h1>
            <p>Practical 3: Data Visualization & Graph Types</p>
        </div>
        
        <!-- Main Card -->
        <div class="main-card">
            <!-- Welcome Page -->
            <div id="welcomePage" class="welcome-section">
                <h2>Welcome to Practical 3! üìà</h2>
                <div class="welcome-message">
                    <p>Today we'll be exploring different types of data visualization techniques and how to select the right graph type for your data. Learn how to create effective scatter plots, line graphs, box plots, and more!</p>
                    <br>
                    <p><strong>Work with me in class</strong> using our interactive worksheet, and <strong>test your knowledge</strong> with our quiz to get personalized help from Dr. Levin, your AI teaching assistant.</p>
                </div>
                
                <!-- Option 1: In-Class Worksheet -->
                <div class="prac-card" onclick="showWorksheet()">
                    <h3>üìù Option 1: In-Class Worksheet</h3>
                    <p>Download the worksheet file using your unique code. We'll work through the problems together during class time, exploring statistical functions and data analysis techniques step by step.</p>
                </div>
                
                <!-- Option 2: Quiz & AI Assistant -->
                <div class="prac-card" onclick="showQuiz()">
                    <h3>üß† Option 2: Quiz & AI Assistant</h3>
                    <p>Test your knowledge with our interactive quiz, then get personalized explanations from Dr. Levin for any concepts you're struggling with. Complete the experience by downloading your cheat sheet!</p>
                </div>
            </div>
            
            <!-- Worksheet Download Page -->
            <div id="worksheetPage" class="page-content">
                <button class="back-btn" onclick="goHome()">
                    ‚Üê Back to Options
                </button>
                
                <div class="worksheet-section">
                    <h2>üìù In-Class Worksheet Download</h2>
                    
                    <div class="worksheet-info">
                        <h4>üìã What you'll get:</h4>
                        <p>‚Ä¢ In-class data that will allow you to practice alongside Dr. Levin<br>
                        ‚Ä¢ Examples to create various graph types including:<br>
                        ‚Ä¢ Scatter plots with trend lines and correlation<br>
                        ‚Ä¢ Line graphs with multiple series<br>
                        ‚Ä¢ Bar graphs with error bars<br>
                        ‚Ä¢ Box plots for distribution comparison<br>
                        ‚Ä¢ Step-by-step visualization exercises</p>
                    </div>
                    
                    <div class="code-input-section">
                        <div class="form-group">
                            <label for="worksheetCode">Enter your worksheet code:</label>
                            <input type="text" id="worksheetCode" placeholder="e.g., GGR2" autocomplete="off">
                        </div>
                        
                        <button class="download-btn" onclick="downloadWorksheet()">
                            üì• Download Worksheet
                        </button>
                        
                        <div id="worksheetMessage" class="message"></div>
                    </div>
                </div>
            </div>
            
            <!-- Quiz Page -->
            <div id="quizPage" class="page-content">
                <button class="back-btn" onclick="goHome()">
                    ‚Üê Back to Options
                </button>
                
                <div class="quiz-section">
                    <h2>üß† Data Visualization Quiz</h2>
                    
                    <div class="quiz-intro">
                        <h4>üìù Quiz Instructions:</h4>
                        <p>Answer the three questions below about data visualization and statistical graphs. After completing the quiz, you'll have the opportunity to ask Dr. Levin about any concepts you're struggling with, followed by access to download your personalized cheat sheet.</p>
                    </div>
                    
                    <div class="quiz-form">
                        <div class="form-group">
                            <label for="studentNumber">Student Number:</label>
                            <input type="text" id="studentNumber" placeholder="e.g., 2024001234" required>
                        </div>
                        
                        <div class="question">
                            <h4>1. Write the symbol used for Pearson correlation coefficient:</h4>
                            <input type="text" id="q1" placeholder="Enter the symbol">
                        </div>
                        
                        <div class="question">
                            <h4>2. If R¬≤ = 0.87, what is the value of r including direction (positive or negative)?</h4>
                            <input type="text" id="q2" placeholder="Enter your answer (e.g., +0.93)">
                        </div>
                        
                        <div class="question">
                            <h4>3. Which graph type is most appropriate for comparing distributions across groups?</h4>
                            <input type="text" id="q3" placeholder="Enter graph type">
                        </div>
                        
                        <button class="quiz-btn" onclick="submitQuiz()">Submit Quiz & Continue</button>
                        
                        <div id="quizMessage" class="message"></div>
                    </div>
                </div>
                
                <!-- Dr. Levin AI Section -->
                <div id="drLevinSection" class="dr-levin-section">
                    <div class="ai-header">
                        <div class="ai-avatar">üë®‚Äçüè´</div>
                        <div class="ai-info">
                            <h3>Ask Dr. Levin</h3>
                            <p>Your Personal AI Teaching Assistant</p>
                        </div>
                    </div>
                    
                    <div class="struggle-form">
                        <h4>ü§î What visualization concept are you struggling with?</h4>
                        <p style="color: #666; margin-bottom: 20px;">Type your question and Dr. Levin will create a personalized explanation just for you!</p>
                        
                        <div class="form-group">
                            <textarea id="struggle" placeholder="Example: 'How do I know which graph type to use?' or 'What does R¬≤ tell me about my data?'" rows="3"></textarea>
                        </div>
                        
                        <button class="ai-btn" onclick="askDrLevin()">ü§ñ Ask Dr. Levin</button>
                    </div>
                    
                    <div id="drLevinResponse" class="ai-response">
                        <!-- AI response will be populated here -->
                    </div>
                </div>
                
                <!-- Cheat Sheet Download Section -->
                <div id="cheatsheetSection" class="cheatsheet-section">
                    <h3>üéâ Congratulations! Quiz Complete</h3>
                    <p>You've successfully completed the quiz and worked with Dr. Levin. Download your personalized visualization cheat sheet below:</p>
                    <br>
                    <button class="download-btn" onclick="downloadCheatSheet()">üìÑ Download Your Cheat Sheet</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // File database for worksheet downloads
        const worksheetDatabase = {
            'GGR2_PRAC3': {
                name: 'Prac_workalong.xlsx',
                data: null
            }
        };
        
        // Quiz correct answers
        const correctAnswers = ['r', '+0.93', 'box plot'];
        
        // ENHANCED Dr. Levin responses - 40 comprehensive responses!
        const drLevinResponses = {
            // Graph Types & Selection (10 responses)
            'which graph': {
                title: "Choosing the Right Graph for Your Data",
                content: `
                    <h5>üìä Quick Graph Selection Guide</h5>
                    <p>The key is matching your graph type to your data type and purpose:</p>
                    
                    <div class="example-box">
                        <strong>Data Relationships:</strong><br>
                        ‚Ä¢ <strong>Two continuous variables:</strong> Scatter plot<br>
                        ‚Ä¢ <strong>Change over time:</strong> Line graph<br>
                        ‚Ä¢ <strong>Compare categories:</strong> Bar chart<br>
                        ‚Ä¢ <strong>Show distribution:</strong> Histogram or box plot<br>
                        ‚Ä¢ <strong>Show proportions:</strong> Pie chart (use sparingly!)
                    </div>
                    
                    <h5>üéØ Decision Tree:</h5>
                    <p>1. What are you trying to show? (relationship, trend, comparison, distribution)<br>
                    2. What type of data do you have? (categorical, continuous, time-series)<br>
                    3. How many variables? (one, two, multiple)</p>
                    
                    <p>Remember: clarity and accuracy are more important than fancy effects!</p>
                `
            },
            'scatter vs line': {
                title: "Scatter Plot vs Line Graph: When to Use Each",
                content: `
                    <h5>üìà Key Differences</h5>
                    <p>Both show relationships, but they serve different purposes:</p>
                    
                    <div class="example-box">
                        <strong>Use Scatter Plots when:</strong><br>
                        ‚Ä¢ Exploring relationships between two continuous variables<br>
                        ‚Ä¢ Data points are independent (not time-ordered)<br>
                        ‚Ä¢ You want to see correlation patterns<br>
                        ‚Ä¢ Example: Height vs Weight, Temperature vs Humidity
                    </div>
                    
                    <div class="example-box">
                        <strong>Use Line Graphs when:</strong><br>
                        ‚Ä¢ Showing change over time<br>
                        ‚Ä¢ Data points are connected/sequential<br>
                        ‚Ä¢ Emphasizing trends and patterns<br>
                        ‚Ä¢ Example: Stock prices over months, population growth
                    </div>
                    
                    <p>Pro tip: If your X-axis is time, use a line graph. If it's another measurement, consider a scatter plot!</p>
                `
            },
            'bar vs histogram': {
                title: "Bar Charts vs Histograms: Understanding the Difference",
                content: `
                    <h5>üìä Two Different Tools</h5>
                    <p>These look similar but serve completely different purposes:</p>
                    
                    <div class="example-box">
                        <strong>Bar Charts:</strong><br>
                        ‚Ä¢ Compare different categories<br>
                        ‚Ä¢ Categories are distinct and separate<br>
                        ‚Ä¢ Gaps between bars are intentional<br>
                        ‚Ä¢ Example: Sales by product, grades by student
                    </div>
                    
                    <div class="example-box">
                        <strong>Histograms:</strong><br>
                        ‚Ä¢ Show distribution of continuous data<br>
                        ‚Ä¢ Bars represent ranges (bins) of values<br>
                        ‚Ä¢ No gaps between bars<br>
                        ‚Ä¢ Example: Distribution of test scores, ages in population
                    </div>
                    
                    <p>Quick test: Can you rearrange the categories? If yes ‚Üí bar chart. If no ‚Üí histogram.</p>
                `
            },
            'pie chart': {
                title: "When to Use Pie Charts (And When Not To)",
                content: `
                    <h5>ü•ß Pie Chart Guidelines</h5>
                    <p>Pie charts are often overused. Here's when they work best:</p>
                    
                    <div class="example-box">
                        <strong>Use pie charts when:</strong><br>
                        ‚Ä¢ Showing parts of a whole (percentages that add to 100%)<br>
                        ‚Ä¢ You have 5 or fewer categories<br>
                        ‚Ä¢ One segment is clearly larger than others<br>
                        ‚Ä¢ Exact values are less important than proportions
                    </div>
                    
                    <div class="example-box">
                        <strong>Avoid pie charts when:</strong><br>
                        ‚Ä¢ You have more than 5-6 categories<br>
                        ‚Ä¢ Values are similar in size<br>
                        ‚Ä¢ You need to show trends over time<br>
                        ‚Ä¢ Precision is important
                    </div>
                    
                    <p>Alternative: Bar charts are almost always clearer and easier to read than pie charts!</p>
                `
            },
            'box plot use': {
                title: "Box Plots: Perfect for Comparing Groups",
                content: `
                    <h5>üì¶ Why Box Plots Are Powerful</h5>
                    <p>Box plots show five key statistics at once and are excellent for comparisons:</p>
                    
                    <div class="example-box">
                        <strong>What Box Plots Show:</strong><br>
                        ‚Ä¢ Median (middle line) - the central tendency<br>
                        ‚Ä¢ Q1 and Q3 (box edges) - middle 50% of data<br>
                        ‚Ä¢ Min and Max (whisker ends) - data range<br>
                        ‚Ä¢ Outliers (dots beyond whiskers) - unusual values
                    </div>
                    
                    <h5>üéØ Perfect for:</h5>
                    <p>‚Ä¢ Comparing distributions between groups<br>
                    ‚Ä¢ Identifying outliers<br>
                    ‚Ä¢ Seeing data spread and skewness<br>
                    ‚Ä¢ When you have multiple groups to compare</p>
                    
                    <p>In Excel: Insert ‚Üí Charts ‚Üí Statistical ‚Üí Box & Whisker</p>
                `
            },
            'histogram use': {
                title: "Histograms: Understanding Data Distribution",
                content: `
                    <h5>üìä What Histograms Reveal</h5>
                    <p>Histograms show the shape and spread of your data distribution:</p>
                    
                    <div class="example-box">
                        <strong>Key Features to Look For:</strong><br>
                        ‚Ä¢ <strong>Shape:</strong> Normal (bell), skewed, bimodal<br>
                        ‚Ä¢ <strong>Center:</strong> Where most values cluster<br>
                        ‚Ä¢ <strong>Spread:</strong> How wide the distribution is<br>
                        ‚Ä¢ <strong>Outliers:</strong> Unusual values far from center
                    </div>
                    
                    <h5>üîß Excel Tips:</h5>
                    <p>‚Ä¢ Data Analysis ‚Üí Histogram (if enabled)<br>
                    ‚Ä¢ Or Insert ‚Üí Charts ‚Üí Statistical ‚Üí Histogram<br>
                    ‚Ä¢ Adjust bin size to reveal patterns clearly<br>
                    ‚Ä¢ Remove gaps between bars</p>
                    
                    <p>Common mistake: Don't confuse with bar charts - histograms show continuous data ranges!</p>
                `
            },
            'line graph': {
                title: "Line Graphs: Showing Change Over Time",
                content: `
                    <h5>üìà When Line Graphs Excel</h5>
                    <p>Line graphs are perfect for time-series data and showing trends:</p>
                    
                    <div class="example-box">
                        <strong>Best Uses:</strong><br>
                        ‚Ä¢ Temperature changes over months<br>
                        ‚Ä¢ Stock prices over time<br>
                        ‚Ä¢ Population growth over years<br>
                        ‚Ä¢ Any data where order matters
                    </div>
                    
                    <h5>üìè Best Practices:</h5>
                    <p>‚Ä¢ Always put time on the X-axis<br>
                    ‚Ä¢ Start Y-axis at appropriate value (often zero)<br>
                    ‚Ä¢ Use markers sparingly - only if few data points<br>
                    ‚Ä¢ Multiple lines? Use different colors/patterns<br>
                    ‚Ä¢ Remove gridlines for cleaner look</p>
                    
                    <p>Excel tip: Select data ‚Üí Insert ‚Üí Line Chart ‚Üí choose style without markers for smooth trends.</p>
                `
            },
            'column vs bar': {
                title: "Column Charts vs Bar Charts: Layout Matters",
                content: `
                    <h5>üìä Same Data, Different Orientation</h5>
                    <p>Both compare categories, but layout affects readability:</p>
                    
                    <div class="example-box">
                        <strong>Column Charts (Vertical Bars):</strong><br>
                        ‚Ä¢ Best for short category names<br>
                        ‚Ä¢ Time-based categories (months, years)<br>
                        ‚Ä¢ When you have space above/below<br>
                        ‚Ä¢ Traditional and familiar to readers
                    </div>
                    
                    <div class="example-box">
                        <strong>Bar Charts (Horizontal Bars):</strong><br>
                        ‚Ä¢ Better for long category names<br>
                        ‚Ä¢ Many categories (easier to read labels)<br>
                        ‚Ä¢ When you want to emphasize values<br>
                        ‚Ä¢ More space for category labels
                    </div>
                    
                    <p>Rule of thumb: If category names are longer than 5-6 characters, consider horizontal bars!</p>
                `
            },
            '3d charts': {
                title: "3D Charts: Why You Should Avoid Them",
                content: `
                    <h5>üö´ The 3D Problem</h5>
                    <p>3D charts might look fancy, but they create more problems than they solve:</p>
                    
                    <div class="example-box">
                        <strong>Problems with 3D Charts:</strong><br>
                        ‚Ä¢ Harder to read exact values<br>
                        ‚Ä¢ Perspective distorts data perception<br>
                        ‚Ä¢ Elements can hide behind others<br>
                        ‚Ä¢ Looks unprofessional in academic work<br>
                        ‚Ä¢ No real benefit over 2D versions
                    </div>
                    
                    <h5>‚úÖ Better Alternatives:</h5>
                    <p>‚Ä¢ Use clean, flat 2D charts<br>
                    ‚Ä¢ Focus on clear labeling and colors<br>
                    ‚Ä¢ Let the data tell the story, not fancy effects<br>
                    ‚Ä¢ Save 3D for actual 3-dimensional data only</p>
                    
                    <p>Remember: Academic work values clarity and accuracy over visual effects!</p>
                `
            },
            'chart selection': {
                title: "Complete Chart Selection Decision Tree",
                content: `
                    <h5>üå≥ Your Chart Selection Guide</h5>
                    <p>Follow this decision tree to pick the perfect chart:</p>
                    
                    <div class="example-box">
                        <strong>Step 1 - What's your goal?</strong><br>
                        ‚Ä¢ Show relationship ‚Üí Scatter plot<br>
                        ‚Ä¢ Show trend ‚Üí Line graph<br>
                        ‚Ä¢ Compare values ‚Üí Bar chart<br>
                        ‚Ä¢ Show distribution ‚Üí Histogram/Box plot<br>
                        ‚Ä¢ Show composition ‚Üí Stacked bar/Pie chart
                    </div>
                    
                    <div class="example-box">
                        <strong>Step 2 - What's your data?</strong><br>
                        ‚Ä¢ Time series ‚Üí Line graph<br>
                        ‚Ä¢ Categories ‚Üí Bar chart<br>
                        ‚Ä¢ Continuous ‚Üí Scatter/Histogram<br>
                        ‚Ä¢ Groups to compare ‚Üí Box plot
                    </div>
                    
                    <p>When in doubt, start with a simple bar chart or scatter plot - they work for most situations!</p>
                `
            },

            // Correlation & Relationships (8 responses)
            'correlation coefficient': {
                title: "Understanding Correlation Coefficient (r)",
                content: `
                    <h5>üìà What r Tells You</h5>
                    <p>The correlation coefficient (r) measures how closely two variables move together:</p>
                    
                    <div class="example-box">
                        <strong>Key Properties:</strong><br>
                        ‚Ä¢ <strong>Range:</strong> -1 to +1<br>
                        ‚Ä¢ <strong>Direction:</strong> + means positive, - means negative<br>
                        ‚Ä¢ <strong>Strength:</strong> Closer to ¬±1 = stronger relationship<br>
                        ‚Ä¢ <strong>Zero:</strong> No linear relationship
                    </div>
                    
                    <h5>üî¢ Interpretation Guide:</h5>
                    <div class="formula">
                        ¬±0.90 to ¬±1.00: Very strong<br>
                        ¬±0.70 to ¬±0.89: Strong<br>
                        ¬±0.50 to ¬±0.69: Moderate<br>
                        ¬±0.30 to ¬±0.49: Weak<br>
                        ¬±0.00 to ¬±0.29: Very weak
                    </div>
                    
                    <p>Excel function: =CORREL(array1, array2). Always report with sign (+ or -)!</p>
                `
            },
            'r squared': {
                title: "R-Squared (R¬≤): Explained Variation",
                content: `
                    <h5>üìä What R¬≤ Means</h5>
                    <p>R¬≤ tells you what percentage of variation in Y is explained by X:</p>
                    
                    <div class="example-box">
                        <strong>Understanding R¬≤:</strong><br>
                        ‚Ä¢ R¬≤ = r √ó r (correlation squared)<br>
                        ‚Ä¢ Always positive (0 to 1)<br>
                        ‚Ä¢ Expressed as percentage<br>
                        ‚Ä¢ Higher = better predictive power
                    </div>
                    
                    <h5>üí° Real Example:</h5>
                    <p>If R¬≤ = 0.64 between study hours and test scores:<br>
                    "64% of the variation in test scores is explained by study hours, 36% is due to other factors."</p>
                    
                    <h5>üéØ Practical Guidelines:</h5>
                    <p>‚Ä¢ R¬≤ > 0.7: Strong relationship<br>
                    ‚Ä¢ R¬≤ = 0.5: Moderate relationship<br>
                    ‚Ä¢ R¬≤ < 0.3: Weak relationship</p>
                `
            },
            'r vs r squared': {
                title: "r vs R¬≤: When to Use Which",
                content: `
                    <h5>ü§î The Key Differences</h5>
                    <p>Both measure relationship strength, but they tell different stories:</p>
                    
                    <div class="example-box">
                        <strong>Use r (correlation) when:</strong><br>
                        ‚Ä¢ You want to know direction (positive/negative)<br>
                        ‚Ä¢ Describing the relationship strength<br>
                        ‚Ä¢ Comparing different correlations<br>
                        ‚Ä¢ r = -0.8 means strong negative relationship
                    </div>
                    
                    <div class="example-box">
                        <strong>Use R¬≤ when:</strong><br>
                        ‚Ä¢ You want to know explained variation<br>
                        ‚Ä¢ Evaluating predictive models<br>
                        ‚Ä¢ Talking about "fit" of your model<br>
                        ‚Ä¢ R¬≤ = 0.64 means 64% of variation explained
                    </div>
                    
                    <h5>üîó The Connection:</h5>
                    <p>If r = 0.8, then R¬≤ = 0.64<br>If r = -0.8, then R¬≤ = 0.64 (same R¬≤!)</p>
                `
            },
            'correlation strength': {
                title: "Interpreting Correlation Strength in Context",
                content: `
                    <h5>üí™ What Makes a "Strong" Correlation?</h5>
                    <p>Correlation strength depends on your field and context:</p>
                    
                    <div class="example-box">
                        <strong>Physical Sciences:</strong><br>
                        ‚Ä¢ r > 0.95 often expected<br>
                        ‚Ä¢ Strong theoretical relationships<br>
                        ‚Ä¢ Controlled conditions
                    </div>
                    
                    <div class="example-box">
                        <strong>Social Sciences:</strong><br>
                        ‚Ä¢ r > 0.50 can be meaningful<br>
                        ‚Ä¢ Human behavior is complex<br>
                        ‚Ä¢ Many uncontrolled variables
                    </div>
                    
                    <h5>‚ö†Ô∏è Important Notes:</h5>
                    <p>‚Ä¢ Don't obsess over "perfect" correlations<br>
                    ‚Ä¢ Consider practical significance<br>
                    ‚Ä¢ r = 0.3 might be important in psychology<br>
                    ‚Ä¢ r = 0.8 might be weak in physics</p>
                `
            },
            'negative correlation': {
                title: "Understanding Negative Correlations",
                content: `
                    <h5>‚ÜòÔ∏è When Variables Move in Opposite Directions</h5>
                    <p>Negative correlations are just as meaningful as positive ones:</p>
                    
                    <div class="example-box">
                        <strong>Examples of Negative Correlations:</strong><br>
                        ‚Ä¢ Temperature vs heating costs<br>
                        ‚Ä¢ Exercise vs resting heart rate<br>
                        ‚Ä¢ Study time vs number of errors<br>
                        ‚Ä¢ Price vs demand (usually)
                    </div>
                    
                    <h5>üìà What the Numbers Mean:</h5>
                    <p>‚Ä¢ r = -0.8 is just as strong as r = +0.8<br>
                    ‚Ä¢ Both show strong relationships<br>
                    ‚Ä¢ Only the direction differs<br>
                    ‚Ä¢ R¬≤ is the same for both: 0.64</p>
                    
                    <h5>üí° Interpretation Tip:</h5>
                    <p>Say "As X increases, Y decreases" rather than "negative relationship" - it's clearer!</p>
                `
            },
            'correlation excel': {
                title: "Calculating Correlation in Excel",
                content: `
                    <h5>üîß Excel Methods for Correlation</h5>
                    <p>Multiple ways to calculate correlation in Excel:</p>
                    
                    <div class="example-box">
                        <strong>Method 1: CORREL Function</strong><br>
                        ‚Ä¢ =CORREL(array1, array2)<br>
                        ‚Ä¢ Simple and direct<br>
                        ‚Ä¢ Example: =CORREL(A2:A20, B2:B20)
                    </div>
                    
                    <div class="example-box">
                        <strong>Method 2: Data Analysis Toolpak</strong><br>
                        ‚Ä¢ Data ‚Üí Data Analysis ‚Üí Correlation<br>
                        ‚Ä¢ Can do multiple correlations at once<br>
                        ‚Ä¢ Creates correlation matrix
                    </div>
                    
                    <div class="example-box">
                        <strong>Method 3: From Scatter Plot</strong><br>
                        ‚Ä¢ Add trendline to scatter plot<br>
                        ‚Ä¢ Display R¬≤ value<br>
                        ‚Ä¢ Calculate r = ¬±‚àöR¬≤
                    </div>
                `
            },
            'correlation causation': {
                title: "Correlation vs Causation: A Critical Distinction",
                content: `
                    <h5>‚ö†Ô∏è The Most Important Rule in Statistics</h5>
                    <p>"Correlation does not imply causation" - here's why this matters:</p>
                    
                    <div class="example-box">
                        <strong>Classic Examples:</strong><br>
                        ‚Ä¢ Ice cream sales vs drowning deaths (both caused by summer)<br>
                        ‚Ä¢ Shoe size vs reading ability in children (both caused by age)<br>
                        ‚Ä¢ Number of firefighters vs damage (more damage needs more firefighters)
                    </div>
                    
                    <h5>ü§î Three Possible Explanations for Correlation:</h5>
                    <p>1. <strong>A causes B:</strong> Exercise causes weight loss<br>
                    2. <strong>B causes A:</strong> Weight loss motivates more exercise<br>
                    3. <strong>C causes both A and B:</strong> Motivation causes both</p>
                    
                    <p>Always ask: "What else could explain this relationship?"</p>
                `
            },
            'strong correlation': {
                title: "What Makes a Correlation Meaningful?",
                content: `
                    <h5>üéØ Beyond Just the Numbers</h5>
                    <p>A strong correlation isn't just about the r value - context matters:</p>
                    
                    <div class="example-box">
                        <strong>Consider These Factors:</strong><br>
                        ‚Ä¢ <strong>Sample size:</strong> Larger samples more reliable<br>
                        ‚Ä¢ <strong>Data quality:</strong> Measurement errors weaken correlation<br>
                        ‚Ä¢ <strong>Outliers:</strong> Can artificially inflate or deflate r<br>
                        ‚Ä¢ <strong>Range restriction:</strong> Limited ranges reduce correlation
                    </div>
                    
                    <h5>üìä Practical Significance:</h5>
                    <p>‚Ä¢ r = 0.3 might be huge in social science<br>
                    ‚Ä¢ r = 0.9 might be expected in physics<br>
                    ‚Ä¢ Consider real-world impact, not just statistics<br>
                    ‚Ä¢ Always visualize with scatter plots</p>
                    
                    <p>Remember: Statistical significance ‚â† practical importance!</p>
                `
            },

            // Excel Technical Help (8 responses)
            'add trendline': {
                title: "Adding Trendlines in Excel",
                content: `
                    <h5>üìà Step-by-Step Trendline Guide</h5>
                    <p>Trendlines show the general direction and strength of relationships:</p>
                    
                    <div class="example-box">
                        <strong>Excel Steps:</strong><br>
                        1. Create a scatter plot with your data<br>
                        2. Right-click on any data point<br>
                        3. Select "Add Trendline"<br>
                        4. Choose "Linear" for straight-line relationships<br>
                        5. Check "Display R-squared value on chart"<br>
                        6. Check "Display equation on chart" (optional)
                    </div>
                    
                    <h5>üéØ Trendline Options:</h5>
                    <p>‚Ä¢ <strong>Linear:</strong> Best for most relationships<br>
                    ‚Ä¢ <strong>Polynomial:</strong> For curved relationships<br>
                    ‚Ä¢ <strong>Exponential:</strong> For growth/decay patterns<br>
                    ‚Ä¢ <strong>Logarithmic:</strong> For diminishing returns</p>
                    
                    <p>Pro tip: Start with linear - it's right 90% of the time!</p>
                `
            },
            'format axes': {
                title: "Formatting Chart Axes Like a Pro",
                content: `
                    <h5>üìè Professional Axis Formatting</h5>
                    <p>Well-formatted axes make your charts clear and professional:</p>
                    
                    <div class="example-box">
                        <strong>Right-click axis ‚Üí Format Axis:</strong><br>
                        ‚Ä¢ <strong>Minimum/Maximum:</strong> Set appropriate range<br>
                        ‚Ä¢ <strong>Major units:</strong> Choose logical intervals<br>
                        ‚Ä¢ <strong>Number format:</strong> Remove unnecessary decimals<br>
                        ‚Ä¢ <strong>Line color:</strong> Use black for academic work
                    </div>
                    
                    <h5>üìä Common Axis Decisions:</h5>
                    <p>‚Ä¢ <strong>Start at zero?</strong> Usually yes, unless misleading<br>
                    ‚Ä¢ <strong>Tick marks:</strong> Keep them simple<br>
                    ‚Ä¢ <strong>Axis titles:</strong> Always include with units<br>
                    ‚Ä¢ <strong>Font size:</strong> 10-12pt for readability</p>
                    
                    <p>Goal: Readers should understand your scale immediately!</p>
                `
            },
            'remove gridlines': {
                title: "Creating Clean Charts by Removing Gridlines",
                content: `
                    <h5>üßπ Cleaning Up Your Charts</h5>
                    <p>Gridlines often add clutter without helping understanding:</p>
                    
                    <div class="example-box">
                        <strong>Method 1: Direct Selection</strong><br>
                        ‚Ä¢ Click on any gridline<br>
                        ‚Ä¢ Press Delete key<br>
                        ‚Ä¢ All gridlines disappear instantly
                    </div>
                    
                    <div class="example-box">
                        <strong>Method 2: Chart Elements</strong><br>
                        ‚Ä¢ Select chart<br>
                        ‚Ä¢ Chart Elements button (+ icon)<br>
                        ‚Ä¢ Uncheck "Gridlines"
                    </div>
                    
                    <h5>‚ú® Other Cleanup Tips:</h5>
                    <p>‚Ä¢ Remove chart borders<br>
                    ‚Ä¢ Delete unnecessary legends<br>
                    ‚Ä¢ Remove chart titles (use captions instead)<br>
                    ‚Ä¢ Keep backgrounds white/transparent</p>
                    
                    <p>Clean charts focus attention on your data, not decorations!</p>
                `
            },
            'chart colors': {
                title: "Professional Color Choices for Academic Charts",
                content: `
                    <h5>üé® Color Guidelines for Academic Work</h5>
                    <p>Color choices can make or break your chart's effectiveness:</p>
                    
                    <div class="example-box">
                        <strong>Academic Best Practices:</strong><br>
                        ‚Ä¢ Use black/dark gray for most elements<br>
                        ‚Ä¢ Choose colorblind-friendly palettes<br>
                        ‚Ä¢ Avoid bright primary colors (red, blue, yellow)<br>
                        ‚Ä¢ Ensure contrast for readability
                    </div>
                    
                    <div class="example-box">
                        <strong>Good Color Choices:</strong><br>
                        ‚Ä¢ Dark blue, dark green, dark red<br>
                        ‚Ä¢ Grayscale for simple comparisons<br>
                        ‚Ä¢ Maximum 3-4 colors per chart<br>
                        ‚Ä¢ Use color to highlight important data
                    </div>
                    
                    <h5>üö´ Colors to Avoid:</h5>
                    <p>‚Ä¢ Neon or fluorescent colors<br>
                    ‚Ä¢ Red-green combinations (colorblind issues)<br>
                    ‚Ä¢ Too many similar shades</p>
                `
            },
            'error bars': {
                title: "Adding Error Bars to Show Data Uncertainty",
                content: `
                    <h5>üìä Understanding Error Bars</h5>
                    <p>Error bars show the uncertainty or variability in your data:</p>
                    
                    <div class="example-box">
                        <strong>Excel Steps:</strong><br>
                        1. Select your chart data series<br>
                        2. Chart Elements (+) ‚Üí Error Bars<br>
                        3. Choose error bar type<br>
                        4. More Error Bar Options for custom values
                    </div>
                    
                    <h5>üéØ Types of Error Bars:</h5>
                    <p>‚Ä¢ <strong>Standard Error:</strong> Shows precision of mean<br>
                    ‚Ä¢ <strong>Standard Deviation:</strong> Shows data spread<br>
                    ‚Ä¢ <strong>Confidence Intervals:</strong> Shows likely range of true value<br>
                    ‚Ä¢ <strong>Custom:</strong> Your own calculated values</p>
                    
                    <p>Always specify what your error bars represent in your caption!</p>
                `
            },
            'scatter plot excel': {
                title: "Creating Perfect Scatter Plots in Excel",
                content: `
                    <h5>üìä Step-by-Step Scatter Plot Creation</h5>
                    <p>Scatter plots are essential for exploring relationships:</p>
                    
                    <div class="example-box">
                        <strong>Excel Process:</strong><br>
                        1. Select your X and Y data (two columns)<br>
                        2. Insert ‚Üí Charts ‚Üí Scatter<br>
                        3. Choose "Scatter with only Markers"<br>
                        4. Add axis labels and clean up formatting<br>
                        5. Add trendline if showing relationship
                    </div>
                    
                    <h5>üìè Scatter Plot Best Practices:</h5>
                    <p>‚Ä¢ Put independent variable on X-axis<br>
                    ‚Ä¢ Put dependent variable on Y-axis<br>
                    ‚Ä¢ Use small, clear markers<br>
                    ‚Ä¢ Include units in axis labels<br>
                    ‚Ä¢ Remove gridlines for cleaner look</p>
                    
                    <p>Common mistake: Don't connect the dots with lines unless showing time series!</p>
                `
            },
            'axis labels': {
                title: "Adding Clear Axis Labels in Excel",
                content: `
                    <h5>üìù Essential Labeling for Professional Charts</h5>
                    <p>Clear axis labels are crucial for understanding your data:</p>
                    
                    <div class="example-box">
                        <strong>Adding Axis Titles:</strong><br>
                        ‚Ä¢ Select chart<br>
                        ‚Ä¢ Chart Elements (+) ‚Üí Axis Titles<br>
                        ‚Ä¢ Check "Primary Horizontal" and "Primary Vertical"<br>
                        ‚Ä¢ Click on title text to edit
                    </div>
                    
                    <h5>‚úçÔ∏è Good Label Writing:</h5>
                    <p>‚Ä¢ Always include units: "Temperature (¬∞C)"<br>
                    ‚Ä¢ Be specific: "Monthly Rainfall" not just "Rainfall"<br>
                    ‚Ä¢ Keep them concise but clear<br>
                    ‚Ä¢ Use proper capitalization</p>
                    
                    <h5>üéØ Label Examples:</h5>
                    <p>Good: "Body Mass (kg)"<br>
                    Poor: "weight"<br>
                    Good: "Time (minutes)"<br>
                    Poor: "t"</p>
                `
            },
            'resize chart': {
                title: "Resizing and Positioning Charts in Excel",
                content: `
                    <h5>üìê Getting Chart Size Just Right</h5>
                    <p>Proper chart sizing improves readability and fits your document layout:</p>
                    
                    <div class="example-box">
                        <strong>Resizing Methods:</strong><br>
                        ‚Ä¢ Drag corner handles (maintains proportions)<br>
                        ‚Ä¢ Drag side handles (changes width/height only)<br>
                        ‚Ä¢ Right-click ‚Üí Size and Properties (exact dimensions)<br>
                        ‚Ä¢ Format Chart Area ‚Üí Size tab (precise control)
                    </div>
                    
                    <h5>üìè Size Guidelines:</h5>
                    <p>‚Ä¢ Make charts large enough to read easily<br>
                    ‚Ä¢ Maintain aspect ratio (don't distort)<br>
                    ‚Ä¢ Consider final document size (print vs screen)<br>
                    ‚Ä¢ Leave white space around charts</p>
                    
                    <p>Pro tip: Hold Shift while dragging corners to maintain proportions!</p>
                `
            },

            // Data Interpretation (6 responses)
            'interpret scatter': {
                title: "Reading and Interpreting Scatter Plots",
                content: `
                    <h5>üëÄ What to Look for in Scatter Plots</h5>
                    <p>Scatter plots reveal patterns that numbers alone can't show:</p>
                    
                    <div class="example-box">
                        <strong>Key Patterns:</strong><br>
                        ‚Ä¢ <strong>Direction:</strong> Upward slope = positive, downward = negative<br>
                        ‚Ä¢ <strong>Strength:</strong> Tight cluster = strong, spread out = weak<br>
                        ‚Ä¢ <strong>Shape:</strong> Linear, curved, or no pattern<br>
                        ‚Ä¢ <strong>Outliers:</strong> Points far from the main pattern
                    </div>
                    
                    <h5>üîç Interpretation Steps:</h5>
                    <p>1. Describe the overall pattern<br>
                    2. Note the direction and strength<br>
                    3. Identify any outliers<br>
                    4. Consider what causes the relationship<br>
                    5. Note any non-linear patterns</p>
                    
                    <p>Remember: Always look at the plot before trusting correlation numbers!</p>
                `
            },
            'outliers': {
                title: "Identifying and Handling Outliers",
                content: `
                    <h5>üéØ Spotting Unusual Data Points</h5>
                    <p>Outliers are data points that don't fit the general pattern:</p>
                    
                    <div class="example-box">
                        <strong>How to Identify Outliers:</strong><br>
                        ‚Ä¢ Points far from trendline in scatter plots<br>
                        ‚Ä¢ Values beyond whiskers in box plots<br>
                        ‚Ä¢ IQR method: Beyond Q1-1.5√óIQR or Q3+1.5√óIQR<br>
                        ‚Ä¢ Z-score method: |z| > 2 or 3
                    </div>
                    
                    <h5>ü§î What to Do with Outliers:</h5>
                    <p>‚Ä¢ <strong>Investigate first:</strong> Data error or real phenomenon?<br>
                    ‚Ä¢ <strong>Report them:</strong> Don't just delete without reason<br>
                    ‚Ä¢ <strong>Analyze with and without:</strong> How do they affect results?<br>
                    ‚Ä¢ <strong>Consider context:</strong> Are they meaningful?</p>
                    
                    <p>Never automatically remove outliers - they often tell interesting stories!</p>
                `
            },
            'read box plot': {
                title: "How to Read and Interpret Box Plots",
                content: `
                    <h5>üì¶ Box Plot Anatomy</h5>
                    <p>Each part of a box plot tells you something different about your data:</p>
                    
                    <div class="example-box">
                        <strong>The Five-Number Summary:</strong><br>
                        ‚Ä¢ <strong>Bottom whisker:</strong> Minimum value (or Q1 - 1.5√óIQR)<br>
                        ‚Ä¢ <strong>Bottom of box:</strong> Q1 (25th percentile)<br>
                        ‚Ä¢ <strong>Line in box:</strong> Median (50th percentile)<br>
                        ‚Ä¢ <strong>Top of box:</strong> Q3 (75th percentile)<br>
                        ‚Ä¢ <strong>Top whisker:</strong> Maximum value (or Q3 + 1.5√óIQR)
                    </div>
                    
                    <h5>üîç What Box Plots Reveal:</h5>
                    <p>‚Ä¢ <strong>Skewness:</strong> Median closer to Q1 or Q3?<br>
                    ‚Ä¢ <strong>Spread:</strong> How tall is the box?<br>
                    ‚Ä¢ <strong>Outliers:</strong> Points beyond whiskers<br>
                    ‚Ä¢ <strong>Symmetry:</strong> Are whiskers equal length?</p>
                `
            },
            'skewed data': {
                title: "Understanding Skewed Data Distributions",
                content: `
                    <h5>üìä When Data Isn't Symmetric</h5>
                    <p>Skewness describes whether data is pulled toward one tail:</p>
                    
                    <div class="example-box">
                        <strong>Right (Positive) Skew:</strong><br>
                        ‚Ä¢ Long tail extends to the right<br>
                        ‚Ä¢ Mean > Median<br>
                        ‚Ä¢ Examples: Income, house prices, reaction times
                    </div>
                    
                    <div class="example-box">
                        <strong>Left (Negative) Skew:</strong><br>
                        ‚Ä¢ Long tail extends to the left<br>
                        ‚Ä¢ Mean < Median<br>
                        ‚Ä¢ Examples: Age at death, test scores (when most do well)
                    </div>
                    
                    <h5>üìà Recognizing Skewness:</h5>
                    <p>‚Ä¢ In histograms: Where is the tail?<br>
                    ‚Ä¢ In box plots: Where is the median in the box?<br>
                    ‚Ä¢ Compare mean and median values</p>
                    
                    <p>Tip: Use median instead of mean for skewed distributions!</p>
                `
            },
            'identify trends': {
                title: "Identifying Trends and Patterns in Data",
                content: `
                    <h5>üìà Spotting Meaningful Patterns</h5>
                    <p>Trends help you understand what's happening in your data over time or across groups:</p>
                    
                    <div class="example-box">
                        <strong>Types of Trends:</strong><br>
                        ‚Ä¢ <strong>Linear:</strong> Steady increase or decrease<br>
                        ‚Ä¢ <strong>Exponential:</strong> Accelerating growth/decline<br>
                        ‚Ä¢ <strong>Cyclical:</strong> Regular ups and downs<br>
                        ‚Ä¢ <strong>Seasonal:</strong> Predictable periodic patterns
                    </div>
                    
                    <h5>üîç Trend Analysis Tips:</h5>
                    <p>‚Ä¢ Look at the big picture, not individual points<br>
                    ‚Ä¢ Consider the time scale of your data<br>
                    ‚Ä¢ Watch for changes in trend direction<br>
                    ‚Ä¢ Distinguish trends from random variation<br>
                    ‚Ä¢ Consider external factors that might explain trends</p>
                    
                    <p>Use trendlines and moving averages to highlight patterns!</p>
                `
            },
            'normal distribution': {
                title: "Recognizing Normal Distribution in Graphs",
                content: `
                    <h5>üîî The Famous Bell Curve</h5>
                    <p>Normal distribution appears frequently in nature and statistics:</p>
                    
                    <div class="example-box">
                        <strong>Characteristics of Normal Distribution:</strong><br>
                        ‚Ä¢ Symmetric bell shape<br>
                        ‚Ä¢ Mean = Median = Mode<br>
                        ‚Ä¢ 68% within 1 standard deviation<br>
                        ‚Ä¢ 95% within 2 standard deviations<br>
                        ‚Ä¢ 99.7% within 3 standard deviations
                    </div>
                    
                    <h5>üìä How to Check for Normality:</h5>
                    <p>‚Ä¢ Create a histogram - does it look bell-shaped?<br>
                    ‚Ä¢ Compare mean and median - are they similar?<br>
                    ‚Ä¢ Look for symmetric spread around center<br>
                    ‚Ä¢ Check for outliers - few in normal distribution</p>
                    
                    <p>Many statistical tests assume normality, so this check is important!</p>
                `
            },

            // Formatting & Best Practices (5 responses)
            'good academic graph': {
                title: "Elements of Professional Academic Graphs",
                content: `
                    <h5>üéì Academic Standards for Data Visualization</h5>
                    <p>Academic graphs prioritize clarity and accuracy over visual appeal:</p>
                    
                    <div class="example-box">
                        <strong>Essential Elements:</strong><br>
                        ‚Ä¢ Clear, descriptive axis labels with units<br>
                        ‚Ä¢ Appropriate scale that doesn't mislead<br>
                        ‚Ä¢ Professional color scheme (avoid bright colors)<br>
                        ‚Ä¢ Clean, uncluttered design<br>
                        ‚Ä¢ Proper figure caption below the graph
                    </div>
                    
                    <h5>üìè Academic Formatting Rules:</h5>
                    <p>‚Ä¢ Black text and lines for readability<br>
                    ‚Ä¢ 10-12pt font size minimum<br>
                    ‚Ä¢ Remove unnecessary 3D effects<br>
                    ‚Ä¢ Start axes at appropriate values<br>
                    ‚Ä¢ Include error bars when showing means</p>
                    
                    <p>Remember: Your graph should stand alone and tell a clear story!</p>
                `
            },
            'chart title': {
                title: "Chart Titles vs Figure Captions: Academic Standard",
                content: `
                    <h5>üìù Why Figure Captions Are Better</h5>
                    <p>In academic work, figure captions are preferred over chart titles:</p>
                    
                    <div class="example-box">
                        <strong>Remove Chart Titles When:</strong><br>
                        ‚Ä¢ Writing research papers<br>
                        ‚Ä¢ Creating formal reports<br>
                        ‚Ä¢ Following academic style guides<br>
                        ‚Ä¢ Space is limited
                    </div>
                    
                    <div class="example-box">
                        <strong>Use Figure Captions Instead:</strong><br>
                        ‚Ä¢ "Figure 1. Temperature changes in Cape Town over 12 months"<br>
                        ‚Ä¢ Place below the graph<br>
                        ‚Ä¢ Include data source if relevant<br>
                        ‚Ä¢ Explain key findings briefly
                    </div>
                    
                    <h5>‚úÇÔ∏è Removing Titles in Excel:</h5>
                    <p>‚Ä¢ Click on chart title<br>
                    ‚Ä¢ Press Delete key<br>
                    ‚Ä¢ Or Chart Elements (+) ‚Üí uncheck "Chart Title"</p>
                `
            },
            'professional colors': {
                title: "Color Psychology and Professional Palettes",
                content: `
                    <h5>üé® Strategic Color Choices</h5>
                    <p>Colors communicate meaning, so choose them carefully:</p>
                    
                    <div class="example-box">
                        <strong>Professional Color Palette:</strong><br>
                        ‚Ä¢ Navy blue: Trust, stability, data<br>
                        ‚Ä¢ Dark green: Growth, positive trends<br>
                        ‚Ä¢ Burgundy/Dark red: Important, attention<br>
                        ‚Ä¢ Charcoal gray: Neutral, secondary data<br>
                        ‚Ä¢ Avoid: Neon, bright primary colors
                    </div>
                    
                    <h5>‚ôø Accessibility Guidelines:</h5>
                    <p>‚Ä¢ Test for colorblind accessibility<br>
                    ‚Ä¢ Use patterns or shapes, not just color<br>
                    ‚Ä¢ Ensure sufficient contrast<br>
                    ‚Ä¢ Limit to 3-4 colors maximum</p>
                    
                    <h5>üéØ Color Meaning Conventions:</h5>
                    <p>‚Ä¢ Red: Danger, loss, negative<br>
                    ‚Ä¢ Green: Success, profit, positive<br>
                    ‚Ä¢ Blue: Neutral, informational</p>
                `
            },
            'axis zero': {
                title: "When to Start Your Axis at Zero",
                content: `
                    <h5>üìä The Zero Baseline Debate</h5>
                    <p>Starting at zero prevents misleading viewers, but isn't always necessary:</p>
                    
                    <div class="example-box">
                        <strong>Always Start at Zero For:</strong><br>
                        ‚Ä¢ Bar charts and column charts<br>
                        ‚Ä¢ When showing absolute quantities<br>
                        ‚Ä¢ When comparing magnitudes<br>
                        ‚Ä¢ When zero is meaningful reference point
                    </div>
                    
                    <div class="example-box">
                        <strong>Zero Not Required For:</strong><br>
                        ‚Ä¢ Line graphs showing change over time<br>
                        ‚Ä¢ When zero is not relevant (e.g., temperature in Celsius)<br>
                        ‚Ä¢ When range is very narrow<br>
                        ‚Ä¢ Scatter plots (focus on relationship, not magnitude)
                    </div>
                    
                    <h5>‚öñÔ∏è The Key Principle:</h5>
                    <p>Don't mislead your audience. If cutting the axis makes small differences look huge, start at zero!</p>
                `
            },
            'professional chart': {
                title: "Complete Professional Chart Checklist",
                content: `
                    <h5>‚úÖ Your Chart Quality Checklist</h5>
                    <p>Use this checklist before submitting any academic work:</p>
                    
                    <div class="example-box">
                        <strong>Content Check:</strong><br>
                        ‚òê Axis labels include units<br>
                        ‚òê Scale is appropriate and not misleading<br>
                        ‚òê Chart type matches data type<br>
                        ‚òê All text is readable<br>
                        ‚òê Legend is necessary and clear
                    </div>
                    
                    <div class="example-box">
                        <strong>Design Check:</strong><br>
                        ‚òê Removed unnecessary gridlines<br>
                        ‚òê Used professional colors<br>
                        ‚òê Consistent font sizes (10-12pt)<br>
                        ‚òê No 3D effects or unnecessary decoration<br>
                        ‚òê Clean, uncluttered appearance
                    </div>
                    
                    <p>A perfect chart clearly communicates its message without distractions!</p>
                `
            },

            // Common Student Struggles (3 responses)
            'data looks wrong': {
                title: "When Your Graph Doesn't Look Right",
                content: `
                    <h5>üîß Troubleshooting Common Graph Problems</h5>
                    <p>When your graph looks "off," here's how to diagnose the issue:</p>
                    
                    <div class="example-box">
                        <strong>Common Problems & Solutions:</strong><br>
                        ‚Ä¢ <strong>Weird scale:</strong> Check axis min/max values<br>
                        ‚Ä¢ <strong>Missing data:</strong> Verify your data selection<br>
                        ‚Ä¢ <strong>Wrong chart type:</strong> Consider if scatter vs line is appropriate<br>
                        ‚Ä¢ <strong>Axes swapped:</strong> Check X vs Y variable placement
                    </div>
                    
                    <h5>üîç Diagnostic Questions:</h5>
                    <p>‚Ä¢ Does the data range make sense?<br>
                    ‚Ä¢ Are units correct and consistent?<br>
                    ‚Ä¢ Did you select the right columns?<br>
                    ‚Ä¢ Is the chart type appropriate for your data?<br>
                    ‚Ä¢ Are there outliers skewing the display?</p>
                    
                    <p>When in doubt, start over with a simple chart and build up complexity!</p>
                `
            },
            'understand graph': {
                title: "How to Read and Interpret Your Own Graphs",
                content: `
                    <h5>üëÅÔ∏è Seeing What Your Data Is Telling You</h5>
                    <p>Sometimes we create graphs but struggle to interpret them. Here's a systematic approach:</p>
                    
                    <div class="example-box">
                        <strong>Step-by-Step Interpretation:</strong><br>
                        1. <strong>Describe what you see:</strong> Overall pattern, direction, spread<br>
                        2. <strong>Identify key features:</strong> Peaks, valleys, outliers, trends<br>
                        3. <strong>Quantify relationships:</strong> Slope, correlation, differences<br>
                        4. <strong>Consider context:</strong> What could cause these patterns?<br>
                        5. <strong>Draw conclusions:</strong> What does this mean for your research?
                    </div>
                    
                    <h5>üéØ Key Questions to Ask:</h5>
                    <p>‚Ä¢ What story does this graph tell?<br>
                    ‚Ä¢ What surprised you about the results?<br>
                    ‚Ä¢ How strong is the relationship?<br>
                    ‚Ä¢ What factors might explain the pattern?</p>
                `
            },
            'effective visualization': {
                title: "Making Your Visualizations Actually Effective",
                content: `
                    <h5>üí° Beyond Just Creating Charts</h5>
                    <p>Effective visualization communicates insights clearly and persuasively:</p>
                    
                    <div class="example-box">
                        <strong>Effectiveness Criteria:</strong><br>
                        ‚Ä¢ <strong>Clear message:</strong> Viewer understands main point immediately<br>
                        ‚Ä¢ <strong>Accurate representation:</strong> Visual matches the data<br>
                        ‚Ä¢ <strong>Appropriate complexity:</strong> Not too simple or overwhelming<br>
                        ‚Ä¢ <strong>Context provided:</strong> Viewer has enough information to interpret
                    </div>
                    
                    <h5>üéØ Test Your Effectiveness:</h5>
                    <p>‚Ä¢ Show your graph to someone else - what do they see?<br>
                    ‚Ä¢ Can they identify the main message in 5 seconds?<br>
                    ‚Ä¢ Do they ask clarifying questions?<br>
                    ‚Ä¢ Would the graph work without your explanation?</p>
                    
                    <p>The best visualizations tell their story without needing narration!</p>
                `
            },

            // Default response for unmatched questions
            'default': {
                title: "Data Visualization Help - Ask Me Anything!",
                content: `
                    <h5>üìä I'm Here to Help with Data Visualization!</h5>
                    <p>I can help you with any aspect of creating effective graphs and charts in Excel:</p>
                    
                    <div class="example-box">
                        <strong>Popular Topics I Can Help With:</strong><br>
                        ‚Ä¢ Choosing the right chart type for your data<br>
                        ‚Ä¢ Understanding correlation and R¬≤ values<br>
                        ‚Ä¢ Creating professional scatter plots and trendlines<br>
                        ‚Ä¢ Formatting charts for academic work<br>
                        ‚Ä¢ Interpreting patterns in your data<br>
                        ‚Ä¢ Excel technical help and troubleshooting
                    </div>
                    
                    <h5>üí° Try Asking About:</h5>
                    <p>‚Ä¢ "How do I know which graph to use?"<br>
                    ‚Ä¢ "What does my correlation coefficient mean?"<br>
                    ‚Ä¢ "How do I make my chart look professional?"<br>
                    ‚Ä¢ "How do I add a trendline in Excel?"<br>
                    ‚Ä¢ "What do outliers in my data mean?"</p>
                    
                    <p>Feel free to ask specific questions about your data visualization challenges!</p>
                `
            }
        };

        // Enhanced question matching function
        function findBestResponse(question) {
            const q = question.toLowerCase();
            
            // Graph Types & Selection
            if (q.includes('which graph') || q.includes('what graph') || q.includes('choose graph') || q.includes('graph type')) return 'which graph';
            if ((q.includes('scatter') && q.includes('line')) || q.includes('scatter vs line')) return 'scatter vs line';
            if ((q.includes('bar') && q.includes('histogram')) || q.includes('bar vs histogram')) return 'bar vs histogram';
            if (q.includes('pie chart') || q.includes('when pie')) return 'pie chart';
            if (q.includes('box plot') && (q.includes('when') || q.includes('use'))) return 'box plot use';
            if (q.includes('histogram') && (q.includes('when') || q.includes('use'))) return 'histogram use';
            if (q.includes('line graph') || q.includes('line chart')) return 'line graph';
            if ((q.includes('column') && q.includes('bar')) || q.includes('vertical vs horizontal')) return 'column vs bar';
            if (q.includes('3d') || q.includes('three dimensional')) return '3d charts';
            if (q.includes('chart selection') || q.includes('decision tree')) return 'chart selection';
            
            // Correlation & Relationships
            if (q.includes('correlation coefficient') || (q.includes('correlation') && q.includes('r'))) return 'correlation coefficient';
            if (q.includes('r squared') || q.includes('r¬≤') || q.includes('r-squared')) return 'r squared';
            if ((q.includes('r vs') && q.includes('r¬≤')) || q.includes('difference between r')) return 'r vs r squared';
            if (q.includes('correlation strength') || q.includes('strong correlation')) return 'correlation strength';
            if (q.includes('negative correlation') || q.includes('negative r')) return 'negative correlation';
            if (q.includes('correlation excel') || q.includes('calculate correlation')) return 'correlation excel';
            if (q.includes('correlation causation') || q.includes('correlation imply causation')) return 'correlation causation';
            if (q.includes('meaningful correlation') || q.includes('significant correlation')) return 'strong correlation';
            
            // Excel Technical Help
            if (q.includes('trendline') || q.includes('trend line')) return 'add trendline';
            if (q.includes('format') && q.includes('ax')) return 'format axes';
            if (q.includes('gridlines') || q.includes('grid lines')) return 'remove gridlines';
            if (q.includes('color') && q.includes('chart')) return 'chart colors';
            if (q.includes('error bar')) return 'error bars';
            if (q.includes('scatter plot') && q.includes('excel')) return 'scatter plot excel';
            if (q.includes('axis label') || q.includes('label ax')) return 'axis labels';
            if (q.includes('resize') || q.includes('size chart')) return 'resize chart';
            
            // Data Interpretation
            if (q.includes('interpret scatter') || q.includes('read scatter')) return 'interpret scatter';
            if (q.includes('outlier')) return 'outliers';
            if (q.includes('read box plot') || q.includes('interpret box')) return 'read box plot';
            if (q.includes('skew') || q.includes('skewed')) return 'skewed data';
            if (q.includes('trend') || q.includes('pattern')) return 'identify trends';
            if (q.includes('normal distribution') || q.includes('bell curve')) return 'normal distribution';
            
            // Formatting & Best Practices
            if (q.includes('academic') || q.includes('professional graph')) return 'good academic graph';
            if (q.includes('title') || q.includes('caption')) return 'chart title';
            if (q.includes('professional color') || q.includes('color choice')) return 'professional colors';
            if (q.includes('axis') && q.includes('zero')) return 'axis zero';
            if (q.includes('professional chart') || q.includes('checklist')) return 'professional chart';
            
            // Common Student Struggles
            if (q.includes('data looks wrong') || q.includes('graph looks weird')) return 'data looks wrong';
            if (q.includes('understand') && q.includes('graph')) return 'understand graph';
            if (q.includes('effective') && q.includes('visual')) return 'effective visualization';
            
            // Specific simple matches
            if (q.includes('correlation') || q.includes(' r ') || q.includes('coefficient')) return 'correlation coefficient';
            if (q.includes('scatter')) return 'scatter plot excel';
            if (q.includes('box')) return 'box plot use';
            
            return 'default';
        }
        
        // Navigation functions
        function showWorksheet() {
            document.getElementById('welcomePage').style.display = 'none';
            document.getElementById('worksheetPage').style.display = 'block';
        }
        
        function showQuiz() {
            document.getElementById('welcomePage').style.display = 'none';
            document.getElementById('quizPage').style.display = 'block';
        }
        
        function goHome() {
            document.getElementById('worksheetPage').style.display = 'none';
            document.getElementById('quizPage').style.display = 'none';
            document.getElementById('welcomePage').style.display = 'block';
            
            // Reset quiz form
            document.getElementById('studentNumber').value = '';
            document.getElementById('q1').value = '';
            document.getElementById('q2').value = '';
            document.getElementById('q3').value = '';
            document.getElementById('drLevinSection').classList.remove('show');
            document.getElementById('cheatsheetSection').classList.remove('show');
        }
        
        // Worksheet download function
        function downloadWorksheet() {
            const code = document.getElementById('worksheetCode').value.trim().toUpperCase();
            
            if (!code) {
                showMessage('worksheetMessage', 'Please enter a worksheet code.', 'error');
                return;
            }
            
            if (code === 'GGR2_PRAC3') {
                // Use the GitHub Pages URL
                const fileUrl = 'https://jonathanggr2.github.io/GGR2_STATS1/Prac_workalong.xlsx';
                
                // Create a download link
                const link = document.createElement('a');
                link.href = fileUrl;
                link.target = '_blank'; // Opens in new tab if direct download fails
                link.setAttribute('download', 'Prac_workalong.xlsx');
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
                
                showMessage('worksheetMessage', '‚úÖ Downloaded: Prac_workalong.xlsx', 'success');
                document.getElementById('worksheetCode').value = '';
            } else {
                showMessage('worksheetMessage', '‚ùå Invalid code. Please use "GGR2_PRAC3" as provided in class.', 'error');
            }
        }
        
        // Quiz submission
        function submitQuiz() {
            const studentNumber = document.getElementById('studentNumber').value.trim();
            const q1 = document.getElementById('q1').value.trim().toLowerCase();
            const q2 = document.getElementById('q2').value.trim().toLowerCase();
            const q3 = document.getElementById('q3').value.trim().toLowerCase();
            
            if (!studentNumber || !q1 || !q2 || !q3) {
                showMessage('quizMessage', 'Please fill in all fields before submitting.', 'error');
                return;
            }
            
            // Check answers
            const answers = [q1, q2, q3];
            let score = 0;
            answers.forEach((answer, index) => {
                if (answer === correctAnswers[index]) {
                    score++;
                }
            });
            
            showMessage('quizMessage', `‚úÖ Quiz submitted! Score: ${score}/3 (${Math.round(score/3*100)}%)`, 'success');
            
            // Show Dr. Levin section
            setTimeout(() => {
                document.getElementById('drLevinSection').classList.add('show');
            }, 1000);
        }
        
        // Enhanced Dr. Levin interaction
        function askDrLevin() {
            const question = document.getElementById('struggle').value.trim();
            
            if (!question) {
                alert('Please enter a question for Dr. Levin!');
                return;
            }
            
            const responseDiv = document.getElementById('drLevinResponse');
            responseDiv.classList.add('show');
            responseDiv.innerHTML = `
                <div class="typing-indicator">
                    <div class="ai-avatar-small">üë®‚Äçüè´</div>
                    <span>Dr. Levin is analyzing your question</span>
                    <div class="typing-dots">
                        <span></span>
                        <span></span>
                        <span></span>
                    </div>
                </div>
            `;
            
            setTimeout(() => {
                const responseKey = findBestResponse(question);
                const response = drLevinResponses[responseKey];
                
                responseDiv.innerHTML = `
                    <div class="response-header">
                        <div class="ai-avatar-small">üë®‚Äçüè´</div>
                        <strong>Dr. Levin responds:</strong>
                    </div>
                    <div class="response-content">
                        <h4>${response.title}</h4>
                        ${response.content}
                    </div>
                    <div style="text-align: center; margin-top: 20px;">
                        <button class="ai-btn secondary" onclick="askFollowUp()">üí≠ Ask Another Question</button>
                        <button class="ai-btn" onclick="proceedToCheatSheet()">‚úÖ Get My Cheat Sheet</button>
                    </div>
                `;
            }, 2500);
        }
        
        function askFollowUp() {
            document.getElementById('struggle').value = '';
            document.getElementById('drLevinResponse').classList.remove('show');
        }
        
        function proceedToCheatSheet() {
            document.getElementById('cheatsheetSection').classList.add('show');
        }
        
        // Cheat sheet download
        function downloadCheatSheet() {
            // Use the GitHub Pages URL
            const fileUrl = 'https://jonathanggr2.github.io/GGR2_STATS1/Prac3Cheat_Sheet.pdf';
            
            // Create a download link
            const link = document.createElement('a');
            link.href = fileUrl;
            link.target = '_blank'; // Opens in new tab if direct download fails
            link.setAttribute('download', 'Statistical_Visualization_CheatSheet.pdf');
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }
        
        // Helper functions
        function showMessage(elementId, text, type) {
            const messageDiv = document.getElementById(elementId);
            messageDiv.textContent = text;
            messageDiv.className = `message ${type}`;
            messageDiv.style.display = 'block';
            
            setTimeout(() => {
                messageDiv.style.display = 'none';
            }, 5000);
        }
    </script>
</body>
</html>